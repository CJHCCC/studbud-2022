<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TomatoClock</title>
    <link rel="stylesheet" href="scss/pomodoro.scss">
</head>
<body>
    
    <!-- <input type="text" id="hour" value="0">Hour -->
    <div class="box2">
        <div id="fmin" class="time"></div>
        <div class="boxx2">:</div>
        <div id="fsec" class="time"></div>
    </div>

    <p>Work:<input type="text" id="min" value="25"></p>
    <p class="needH">sec:<input type="text" id="sec" value="0"></p>
    <p>Break:<input type="text" id="br" value="5"></p>
    <br/>

    <input type="button" id="btnStart" value="Start">
    <input type="button" id="btnPause" value="Pause">
    <input type="button" id="btnCancel" value="Cancel">


    <script>
        let PomS = sec;
        let PomM = document.querySelectorAll("input")[0];
        let PomB = document.querySelectorAll("input")[2];
        let fg = Array();
        let fb = Array();
        var btnStart=document.getElementById("btnStart");
        var btnPause=document.getElementById("btnPause");
        var btnCancel=document.getElementById("btnCancel");
        var is_cal=false;
        var timer;
        btnStart.onclick=count;
        btnPause.onclick=pause;
        btnCancel.onclick=Cancel;

    var box=document.getElementsByTagName("div")[0];
    function count(){
        is_cal=true;   
    }

    function pause(){
        is_cal=false;
    }

    function Cancel(){
        is_cal=false;
        min.value=25;
        sec.value=0;
        PomB.value=5;
    }

    timer=setInterval(function(){
        if(is_cal){
            if(PomS.value>=1 && PomM.value>=0){
                PomS.value-=20
                document.getElementById("fsec").innerHTML = PomS.value;
            }

            else if(PomM.value>0){
                PomS.value=59;
                PomM.value--
                document.getElementById("fmin").innerHTML = PomM.value;
                document.getElementById("fsec").innerHTML = PomS.value;
            }

            else if (PomM.value <= 0 & PomS.value <= 0) {
                if(PomS.value>=1 && PomB.value>=0){
                PomS.value--
                document.getElementById("fsec").innerHTML = PomS.value;
                }
                else if(PomB.value>0){
                PomS.value=59;
                PomB.value--
                document.getElementById("fmin").innerHTML = PomB.value;
                document.getElementById("fsec").innerHTML = PomS.value;
                }
                else{
                PomM.value=fg.slice(-1);
                PomM.value=PomM.value;
                PomB.value=fb.slice(-1);
                PomB.value=PomB.value;
                }
            }
        }
        else{
            document.getElementById("fmin").innerHTML = PomM.value;
            document.getElementById("fsec").innerHTML = PomS.value;
            PomM.value=PomM.value;
            fg.push(PomM.value)
            fb.push(PomB.value)
        }
        
    },1000);

  
    </script>
</body>
</html>